<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>‚öì FAFA Patrimonio 6 ‚Äì L‚Äô√ânigme du Port</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../style.css">
  <script src="../../scripts/fafa-core.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #eff6ff, #dbeafe);
      text-align: center;
      padding: 60px 20px;
      color: #1e3a8a;
      overflow: hidden;
    }
    .box {
      background: white;
      max-width: 750px;
      margin: auto;
      padding: 40px;
      border-radius: 18px;
      box-shadow: 0 0 30px rgba(0,0,0,0.05);
      position: relative;
      z-index: 10;
    }
    h1 {
      font-size: 2.2em;
      color: #1e40af;
    }
    p {
      font-size: 1.1em;
      color: #334155;
    }
    button {
      margin-top: 30px;
      padding: 14px 30px;
      font-size: 1.1em;
      border: none;
      border-radius: 10px;
      background: #1d4ed8;
      color: white;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #1e3a8a;
    }
    .logo {
      margin-bottom: 20px;
      animation: float 3s ease-in-out infinite;
    }
    .bubble {
      position: absolute;
      background: rgba(30,64,175,0.2);
      border-radius: 50%;
      animation: rise 10s linear infinite;
      opacity: 0.6;
    }
    .bubble:nth-child(1) { width: 40px; height: 40px; left: 10%; animation-delay: 0s; }
    .bubble:nth-child(2) { width: 25px; height: 25px; left: 80%; animation-delay: 3s; }
    .bubble:nth-child(3) { width: 60px; height: 60px; left: 50%; animation-delay: 6s; }

    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    @keyframes rise {
      0% { bottom: -100px; transform: translateX(0); }
      100% { bottom: 110%; transform: translateX(20px); }
    }
    #carte,
    #boussole {
      margin-top: 30px;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    #chrono {
      font-size: 1.2em;
      color: #1e40af;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>

  <div class="box">
    <img src="../../actifs/logo-fafa.png" alt="Logo FAFA" class="logo" style="width: 100px;">
    <h1>‚öì L‚Äô√ânigme du Port</h1>
    <p>
      Le vieux port de Banyuls renferme bien plus que des filets et des barques...<br><br>
      Une l√©gende locale √©voque un message crypt√© transmis par les p√™cheurs r√©sistants √† travers des symboles cach√©s entre les quais.<br><br>
      Entre n≈ìuds marins, bou√©es, ancres et bateaux, rel√®ve les 10 √©nigmes pour d√©couvrir ce message oubli√©.<br>
      üé£ Ton enqu√™te commence maintenant...
    </p>
    <div id="chrono">‚è±Ô∏è Temps : 00:00</div>
    <button onclick="demarrer()">üö§ Commencer l‚Äôenqu√™te portuaire</button>
  </div>

  <div id="carte">
    <iframe src="https://www.openstreetmap.org/export/embed.html?bbox=3.127%2C42.482%2C3.137%2C42.490&amp;layer=mapnik&amp;marker=42.486%2C3.132" width="100%" height="300" style="border:1px solid #ccc; border-radius:12px; margin-top:40px;"></iframe>
  </div>

  <img id="boussole" src="../../actifs/boussole.gif" alt="Boussole" width="100" style="margin-top: 20px;">

  <audio autoplay loop>
    <source src="../../audio/mer.mp3" type="audio/mpeg">
    Ton navigateur ne supporte pas l'audio.
  </audio>

  <script>
    let startTime = Date.now();
    function demarrer() {
      localStorage.setItem("start", startTime);
      location.href = "enigme1.html";
    }
    setInterval(() => {
      const elapsed = Math.floor((Date.now() - startTime) / 1000);
      const minutes = String(Math.floor(elapsed / 60)).padStart(2, '0');
      const seconds = String(elapsed % 60).padStart(2, '0');
      document.getElementById('chrono').textContent = `‚è±Ô∏è Temps : ${minutes}:${seconds}`;
    }, 1000);
  </script>
</body>
</html>


<!-- patrimoine6/enigme1.html -->
<!DOCTYPE html>
<html lang="fr">
<head><meta charset="UTF-8"><title>√ânigme 1 ‚Äì Bou√©e myst√©rieuse</title></head>
<body>
  <h2>üõü √ânigme 1 : Bou√©e myst√©rieuse</h2>
  <p>Quel est le nom donn√© √† une bou√©e flottante de signalisation rouge ?</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    function valider() {
      const r = document.getElementById("rep").value.toLowerCase();
      if (r.includes("lat√©rale") || r.includes("tribord")) location.href = 'enigme2.html';
      else alert("Cherche une balise de navigation bien connue.");
    }
  </script>
</body>
</html>

<!-- patrimoine6/enigme2.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 2 ‚Äì N≈ìud marin</title></head>
<body>
  <h2>ü™¢ √ânigme 2 : N≈ìud marin</h2>
  <p>Quel n≈ìud est r√©put√© incassable et utilis√© pour l‚Äôamarrage ?</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    if (document.getElementById('rep').value.toLowerCase().includes("n≈ìud de chaise"))
      location.href = 'enigme3.html';
    else alert("Ce n‚Äôest pas le bon n≈ìud.");
  </script>
</body>
</html>

<!-- patrimoine6/enigme3.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 3 ‚Äì Barque photo</title></head>
<body>
  <h2>üö§ √ânigme 3 : Barque photo</h2>
  <p>Photographie une barque traditionnelle amarr√©e au port.</p>
  <button onclick="location.href='enigme4.html'">üì∏ Photo prise</button>
</body>
</html>

<!-- patrimoine6/enigme4.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 4 ‚Äì Mat√©riel de p√™che</title></head>
<body>
  <h2>üé£ √ânigme 4 : Mat√©riel de p√™che</h2>
  <p>Quel est le nom du panier circulaire utilis√© pour remonter les poissons ?</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    if (document.getElementById('rep').value.toLowerCase() === '√©puisette')
      location.href = 'enigme5.html';
    else alert("Ce n‚Äôest pas le bon mot !");
  </script>
</body>
</html>

<!-- patrimoine6/enigme5.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 5 ‚Äì R√©sistance</title></head>
<body>
  <h2>üïµÔ∏è √ânigme 5 : Message cod√©</h2>
  <p>Quel mot-cl√© symbolique fut utilis√© par les r√©sistants en mer √† Banyuls ? (indice : lumi√®re)</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    if (document.getElementById('rep').value.toLowerCase().includes("phare"))
      location.href = 'enigme6.html';
    else alert("Indice lumineux √† creuser...");
  </script>
</body>
</html>

<!-- patrimoine6/enigme6.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 6 ‚Äì Anagramme</title></head>
<body>
  <h2>üî§ √ânigme 6 : Anagramme du port</h2>
  <p>R√©organise les lettres : <strong>CAPNORE</strong></p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    const v = document.getElementById('rep').value.toLowerCase();
    if (v === 'panocre' || v === 'caprone') location.href = 'enigme7.html';
    else alert("Essaie encore, cherche un mot en lien avec l‚Äôenvironnement marin...");
  </script>
</body>
</html>

<!-- patrimoine6/enigme7.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 7 ‚Äì Animal marin</title></head>
<body>
  <h2>üêô √ânigme 7 : Animal marin</h2>
  <p>Quel animal √† huit bras chasse dans les rochers au port ?</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    if (document.getElementById('rep').value.toLowerCase() === 'poulpe')
      location.href = 'enigme8.html';
    else alert("Cet animal se faufile partout...");
  </script>
</body>
</html>

<!-- patrimoine6/enigme8.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 8 ‚Äì Code portuaire</title></head>
<body>
  <h2>üî¢ √ânigme 8 : Code portuaire</h2>
  <p>Le code grav√© sur le quai est : 4+4x2. R√©sous-le.</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    if (document.getElementById('rep').value === '12')
      location.href = 'enigme9.html';
    else alert("Petit calcul rapide √† refaire.");
  </script>
</body>
</html>

<!-- patrimoine6/enigme9.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 9 ‚Äì Objet flottant</title></head>
<body>
  <h2>üåä √ânigme 9 : Objet flottant</h2>
  <p>Quel objet en li√®ge est accroch√© aux filets ?</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    const val = document.getElementById('rep').value.toLowerCase();
    if (val === 'flotteur' || val === 'bouchon') location.href = 'enigme10.html';
    else alert("Il permet au filet de ne pas couler.");
  </script>
</body>
</html>

<!-- patrimoine6/enigme10.html -->
<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>√ânigme 10 ‚Äì Mot final</title></head>
<body>
  <h2>‚öì √ânigme 10 : Mot final</h2>
  <p>Quel mot repr√©sente le port, les marins, les n≈ìuds et les messages ?</p>
  <input id="rep"><button onclick="valider()">Valider</button>
  <script>
    const r = document.getElementById('rep').value.toLowerCase();
    if (r === 'navigation') location.href = 'fin.html';
    else alert("Cherche un mot qui relie tous les th√®mes portuaires...");
  </script>
</body>
</html>
<!-- patrimoine6/fin.html -->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>‚öì Fin ‚Äì L‚Äô√ânigme du Port</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #dbeafe, #eff6ff);
      text-align: center;
      padding: 60px 20px;
      color: #1e3a8a;
    }
    .container {
      background: white;
      max-width: 700px;
      margin: auto;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(0,0,0,0.08);
      position: relative;
      overflow: hidden;
    }
    h1 {
      font-size: 2em;
      margin-bottom: 20px;
      color: #1e40af;
      animation: fadeIn 1s ease-in-out;
    }
    p {
      font-size: 1.1em;
    }
    .badge {
      margin: 30px auto;
      padding: 15px;
      background: #1d4ed8;
      color: white;
      display: inline-block;
      border-radius: 12px;
      font-size: 1.2em;
      animation: pulse 1.2s infinite alternate;
    }
    #chrono {
      font-size: 1.3em;
      margin-top: 20px;
    }
    .btn {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      background: #1e3a8a;
      color: white;
      cursor: pointer;
    }
    .btn:hover {
      background: #1e40af;
    }
    .bubble {
      position: absolute;
      width: 20px;
      height: 20px;
      background: rgba(30, 58, 138, 0.3);
      border-radius: 50%;
      animation: floatUp 10s linear infinite;
    }
    @keyframes floatUp {
      from { transform: translateY(100vh) scale(0.8); opacity: 0.7; }
      to { transform: translateY(-100vh) scale(1.2); opacity: 0; }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes pulse {
      from { transform: scale(1); }
      to { transform: scale(1.05); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚öì Mission Portuaire Accomplie !</h1>
    <p>Tu as lev√© le myst√®re du port, entre traditions maritimes et secrets des r√©sistants.</p>
    <div class="badge">üèÖ Badge : Enqu√™teur Marin FAFA‚Ñ¢</div>
    <p id="chrono">‚è±Ô∏è Temps total : ...</p>
    <p>Les quais t‚Äôattendront pour de nouvelles aventures FAFA !</p>
    <button class="btn" onclick="location.href='../../index.html'">üè† Retour √† l‚Äôaccueil</button>
    <!-- Effets visuels -->
    <div class="bubble" style="left: 10%; animation-delay: 0s;"></div>
    <div class="bubble" style="left: 25%; animation-delay: 2s;"></div>
    <div class="bubble" style="left: 50%; animation-delay: 4s;"></div>
    <div class="bubble" style="left: 75%; animation-delay: 1s;"></div>
    <div class="bubble" style="left: 90%; animation-delay: 3s;"></div>
  </div>

  <script>
    const debut = localStorage.getItem("start");
    if (debut) {
      const fin = Date.now();
      const duree = Math.floor((fin - debut) / 1000);
      const min = String(Math.floor(duree / 60)).padStart(2, '0');
      const sec = String(duree % 60).padStart(2, '0');
      document.getElementById("chrono").innerText = `‚è±Ô∏è Temps total : ${min}m ${sec}s`;
      localStorage.removeItem("start");
    }
  </script>
</body>
</html>
