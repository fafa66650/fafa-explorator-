<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ðŸ§­ Boussole â€“ Le MystÃ¨re de Vieux Port</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="0;url=boussole.fr.final.html">
  
<script>
  const lieux = {
    1: "lâ€™entrÃ©e du vieux port",
    2: "le quai des pÃªcheurs",
    3: "le phare rouge",
    4: "la halle aux poissons",
    5: "la jetÃ©e ouest",
    6: "la cabane du douanier",
    7: "le mÃ¢t historique",
    8: "le mur du souvenir marin",
    9: "le belvÃ©dÃ¨re du port",
    10: "l'Ã©nigme finale du capitaine"
  };
  const etape = parseInt(localStorage.getItem("etape") || "1");
  const message = "ðŸŽ¯ Ã‰tape " + etape + " : dirige-toi vers " + (lieux[etape] || "lâ€™Ã©tape suivante.");
  document.getElementById("lieu").textContent = message;

  function orienter(angle) {
    document.getElementById("fleche").style.transform =
      "translateX(-50%) rotate(" + angle + "deg)";
  }

  window.addEventListener("deviceorientationabsolute", (e) => {
    if (e.alpha !== null) orienter(e.alpha);
  });

  window.addEventListener("deviceorientation", (e) => {
    if (e.alpha !== null) orienter(e.alpha);
  });
</script>

</body></html>
